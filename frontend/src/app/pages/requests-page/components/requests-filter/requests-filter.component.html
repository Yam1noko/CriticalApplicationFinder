<div class="filter-container dropdown-filter" (click)="$event.stopPropagation()">
  <table class="filter-table">
    <tr>
      <td>Дата от:</td>
      <td>
        <input type="datetime-local" [(ngModel)]="fromDateStr">
      </td>
    </tr>
    <tr>
      <td>Дата до:</td>
      <td>
        <input type="datetime-local" [(ngModel)]="toDateStr">
      </td>
    </tr>

    <!-- Заявитель -->
    <tr>
      <td>Заявитель:</td>
      <td>
        <div class="chips-input">
          <input type="text"
                 placeholder="имя[; ,] ... и Enter"
                 [(ngModel)]="newRequester"
                 (keydown)="onChipsKey($event, 'requester')">
          <div class="chips-list" *ngIf="filter.requesters?.length">
            <span class="selected-item" *ngFor="let r of filter.requesters">
              {{ r }}
              <button type="button" (click)="removeRequester(r)">×</button>
            </span>
          </div>
        </div>
      </td>
    </tr>

    <!-- Тема -->
    <tr>
      <td>Тема:</td>
      <td>
        <div class="chips-input">
          <input type="text"
                 placeholder="фразы темы[; ,] ... и Enter"
                 [(ngModel)]="newSubject"
                 (keydown)="onChipsKey($event, 'subject')">
          <div class="chips-list" *ngIf="subjectWords.length">
            <span class="selected-item" *ngFor="let s of subjectWords">
              {{ s }}
              <button type="button" (click)="removeSubject(s)">×</button>
            </span>
          </div>
        </div>
      </td>
    </tr>

    <!-- Содержит слова -->
    <tr>
      <td>Содержит слова:</td>
      <td>
        <div class="chips-input">
          <input type="text"
                 placeholder="слово[; ,] ... и Enter"
                 [(ngModel)]="newContains"
                 (keydown)="onChipsKey($event, 'contains')">
          <div class="chips-list" *ngIf="containsWords.length">
            <span class="selected-item" *ngFor="let w of containsWords">
              {{ w }}
              <button type="button" (click)="removeContains(w)">×</button>
            </span>
          </div>
        </div>
      </td>
    </tr>

    <tr>
      <td>Только критические:</td>
      <td>
        <input type="checkbox" [(ngModel)]="filter.criticalOnly">
      </td>
    </tr>
  </table>

  <div class="filter-buttons">
    <button type="button" (click)="applyFilter()">Применить</button>
    <button type="button" (click)="clearFilter()">Очистить</button>
  </div>

  <div class="alerts-container">
    <div *ngFor="let alert of alerts"
         class="alert"
         [ngClass]="{'success': alert.type === 'success', 'error': alert.type === 'error'}">
      {{ alert.message }}
    </div>
  </div>
